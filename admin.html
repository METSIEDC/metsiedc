<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script> <!-- Lucide Icons -->
    <style>
        /* Base Colors (inspired by your dashboard images) */
        :root {
            --color-primary-blue: #6A67D0; /* Main accent blue/purple */
            --color-secondary-blue: #9693F3; /* Lighter accent */
            --color-background-light: #F4F7FB; /* Light gray background */
            --color-card-background: #FFFFFF; /* White cards */
            --color-text-dark: #333333; /* Dark text */
            --color-text-muted: #6B7280; /* Muted text */
            --color-border: #E5E7EB; /* Light border */
            --color-shadow: rgba(0, 0, 0, 0.08); /* Card shadow */

            /* Password Interface Specific Colors */
            --color-pw-bg-overlay: rgba(0, 0, 0, 0.4);
            --color-pw-form-bg: rgba(255, 255, 255, 0.2);
            --color-pw-input-bg: rgba(255, 255, 255, 0.7);
            --color-pw-input-border: rgba(255, 255, 255, 0.5);
            --color-pw-button-bg: #FFFFFF;
            --color-pw-button-text: #333333;
            --color-pw-button-hover-bg: #F0F0F0;
            --color-pw-text-on-overlay: #FFFFFF;
            --color-pw-error-text: #FF6347;

            /* Specific colors for folder icons */
            --color-folder-icon: #FFD700; /* Gold for folders */
            --color-file-icon: var(--color-primary-blue); /* Default file icon color */
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent body scroll, content areas will scroll */
            background-color: var(--color-background-light);
            color: var(--color-text-dark);
        }

        /* --- Password Interface Styling (Full Screen) --- */
        .password-interface-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://placehold.co/1920x1080/000000/FFFFFF?text=Your+Background+Image'); /* REPLACE WITH YOUR IMAGE */
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 1; /* Ensure it starts visible */
            transition: opacity 0.5s ease-in-out;
        }
        .password-interface-wrapper.hidden-fade { /* Use a distinct class for fading out */
            opacity: 0;
            pointer-events: none; /* Disable interactions while fading */
        }
        .password-interface-wrapper.hidden-display { /* Use for complete hiding after fade */
            display: none;
        }

        .background-blur {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: var(--color-pw-bg-overlay);
            z-index: 1;
        }
        .password-form-container {
            position: relative;
            z-index: 2;
            background-color: var(--color-pw-form-bg);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 450px;
            width: 90%;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .password-form-container .logo {
            margin-bottom: 1.5rem;
        }
        .password-form-container .logo img {
            max-width: 150px; /* Adjust logo size */
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .password-form-container h2 {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--color-pw-text-on-overlay);
            margin-bottom: 0.5rem;
        }
        .password-form-container p {
            font-size: 1rem;
            color: var(--color-pw-text-on-overlay);
            margin-bottom: 1rem;
        }
        .password-form-container input[type="password"] {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 1px solid var(--color-pw-input-border);
            border-radius: 0.75rem;
            font-size: 1.125rem;
            background-color: var(--color-pw-input-bg);
            color: var(--color-text-dark);
            outline: none;
            transition: border-color 0.2s, background-color 0.2s;
        }
        .password-form-container input[type="password"]::placeholder {
            color: rgba(0, 0, 0, 0.5);
        }
        .password-form-container input[type="password"]:focus {
            border-color: var(--color-primary-blue);
            background-color: var(--color-pw-button-bg);
        }
        .password-form-container button {
            background-color: var(--color-pw-button-bg);
            color: var(--color-pw-button-text);
            padding: 1rem 2rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 1.125rem;
            transition: background-color 0.2s, color 0.2s;
            cursor: pointer;
            border: none;
            width: 100%;
        }
        .password-form-container button:hover {
            background-color: var(--color-pw-button-hover-bg);
            color: var(--color-text-dark);
        }
        .password-message {
            color: var(--color-pw-error-text);
            font-size: 0.95rem;
            margin-top: -0.5rem;
            font-weight: 500;
        }

        /* --- Main Dashboard Layout --- */
        .dashboard-layout {
            display: none; /* Hidden by default, will be set to flex by JS */
            min-height: 100vh;
            background-color: var(--color-background-light);
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px; /* Fixed width */
            background-color: var(--color-card-background);
            box-shadow: 2px 0 10px var(--color-shadow);
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            z-index: 100;
        }
        .sidebar-logo {
            text-align: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--color-border);
        }
        .sidebar-logo img {
            max-width: 120px; /* Adjust sidebar logo size */
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .sidebar-nav li {
            margin-bottom: 0.5rem;
        }
        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            color: var(--color-text-muted);
            font-weight: 500;
            text-decoration: none;
            transition: background-color 0.2s, color 0.2s;
        }
        .sidebar-nav a:hover {
            background-color: rgba(106, 103, 208, 0.1);
            color: var(--color-primary-blue);
        }
        .sidebar-nav a.active {
            background-color: var(--color-primary-blue);
            color: var(--color-card-background);
            box-shadow: 0 4px 8px rgba(106, 103, 208, 0.2);
        }
        .sidebar-nav a.active .lucide {
            color: var(--color-card-background);
        }
        .sidebar-nav .lucide {
            width: 1.25rem;
            height: 1.25rem;
            color: var(--color-text-muted);
            transition: color 0.2s;
        }
        .sidebar-nav a.active .lucide {
             color: var(--color-card-background); /* Active icon color */
        }

        /* Main Content Area */
        .main-content {
            flex-grow: 1;
            padding: 2rem;
            overflow-y: auto; /* Enable vertical scrolling for main content */
            max-height: 100vh; /* Ensure it takes full viewport height */
        }
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--color-card-background);
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px var(--color-shadow);
            margin-bottom: 2rem;
        }
        .dashboard-header .search-bar {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
            margin-right: 1.5rem;
        }
        .dashboard-header .search-bar input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            outline: none;
            background-color: var(--color-background-light);
            transition: border-color 0.2s;
        }
        .dashboard-header .search-bar input:focus {
            border-color: var(--color-primary-blue);
        }
        .dashboard-header .search-bar .lucide {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--color-text-muted);
            width: 1.1rem;
            height: 1.1rem;
        }
        .dashboard-header .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .dashboard-header .header-actions .btn-upload {
            background-color: var(--color-primary-blue);
            color: var(--color-card-background);
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            border: none; /* Ensure no default button border */
            transition: background-color 0.2s;
        }
        .dashboard-header .header-actions .btn-upload:hover {
            background-color: var(--color-secondary-blue);
        }
        .dashboard-header .user-profile {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }
        .dashboard-header .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--color-primary-blue);
        }
        .dashboard-header .user-profile span {
            font-weight: 600;
            color: var(--color-text-dark);
        }

        /* Dynamic Content Area */
        .content-section {
            background-color: var(--color-card-background);
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px var(--color-shadow);
            display: none; /* All content sections hidden by default */
        }
        .content-section.active {
            display: block; /* Only active section is shown */
        }

        /* --- Dashboard Overview Section (image_d8060b.png inspired) --- */
        .overview-grid {
            display: grid;
            grid-template-columns: 2fr 1fr; /* Main content and sidebar content */
            gap: 2rem;
        }
        .overview-main {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .overview-card {
            background-color: var(--color-card-background);
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px var(--color-shadow);
        }
        .storage-card {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        .storage-chart {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(var(--color-primary-blue) 65%, var(--color-background-light) 0%); /* Example 65% */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--color-text-dark);
        }
        .storage-chart span {
            background-color: var(--color-card-background);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            line-height: 1.2;
        }
        .storage-chart span small {
            font-size: 0.7rem;
            color: var(--color-text-muted);
        }
        .storage-info h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .storage-info p {
            color: var(--color-text-muted);
            font-size: 0.9rem;
        }
        .file-category-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .file-category-card {
            background-color: var(--color-card-background);
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 4px var(--color-shadow);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }
        .file-category-card .icon-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .file-category-card .icon-circle .lucide {
            color: var(--color-card-background);
            width: 1.5rem;
            height: 1.5rem;
        }
        .file-category-card.docs .icon-circle { background-color: #EF4444; } /* Red */
        .file-category-card.images .icon-circle { background-color: #6366F1; } /* Indigo */
        .file-category-card.video-audio .icon-circle { background-color: #059669; } /* Emerald */
        .file-category-card.others .icon-circle { background-color: #EAB308; } /* Yellow */

        .file-category-card h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
        }
        .file-category-card p {
            font-size: 0.85rem;
            color: var(--color-text-muted);
            margin: 0;
        }
        
        .overview-sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .contact-list ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .contact-list li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--color-border);
        }
        .contact-list li:last-child {
            border-bottom: none;
        }
        .contact-list img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
        }
        .contact-list p {
            margin: 0;
            font-size: 0.9rem;
        }
        .contact-list p strong {
            display: block;
            font-weight: 600;
            color: var(--color-text-dark);
        }
        .contact-list p span {
            color: var(--color-text-muted);
            font-size: 0.8rem;
        }
        .invite-card {
            text-align: center;
        }
        .invite-card input {
            width: calc(100% - 70px);
            padding: 0.6rem 0.8rem;
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            outline: none;
            margin-right: 0.5rem;
        }
        .invite-card button {
            background-color: var(--color-primary-blue);
            color: var(--color-card-background);
            padding: 0.6rem 1rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .invite-card button:hover {
            background-color: var(--color-secondary-blue);
        }


        /* --- Folder/Documents Section (image_d80a69.png inspired) --- */
        .folder-manager-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--color-border);
        }
        .folder-manager-header .breadcrumbs {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--color-text-muted);
            flex-wrap: wrap;
        }
        .folder-manager-header .breadcrumbs a {
            color: var(--color-primary-blue);
            text-decoration: none;
            font-weight: 500;
        }
        .folder-manager-header .breadcrumbs a:hover {
            text-decoration: underline;
        }
        .folder-manager-header .breadcrumbs .separator {
            color: var(--color-text-muted);
        }
        .folder-action-buttons {
            display: flex;
            gap: 0.75rem;
        }
        .folder-action-buttons button {
            background-color: var(--color-primary-blue);
            color: var(--color-card-background);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: background-color 0.2s;
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }
        .folder-action-buttons button:hover {
            background-color: var(--color-secondary-blue);
        }
        .folder-action-buttons .lucide {
            width: 1rem;
            height: 1rem;
        }

        .folder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1.25rem;
        }
        .file-folder-card {
            background-color: var(--color-background-light);
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 4px var(--color-shadow);
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            min-height: 150px;
            justify-content: center; /* Center content vertically */
        }
        .file-folder-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
        }
        .file-folder-card .icon-placeholder {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            background-color: rgba(106, 103, 208, 0.1); /* Light blue for icons */
        }
        .file-folder-card img {
            max-width: 100%;
            max-height: 60px; /* Limit image size for thumbnails */
            object-fit: contain;
            border-radius: 0.25rem;
        }
        .file-folder-card .lucide {
            width: 2.5rem;
            height: 2.5rem;
            color: var(--color-file-icon);
        }
        .file-folder-card.folder .lucide {
            color: var(--color-folder-icon); /* Gold for folders */
        }
        .file-folder-card h4 {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--color-text-dark);
            word-break: break-all;
            margin: 0;
        }
        .file-folder-card p {
            font-size: 0.8rem;
            color: var(--color-text-muted);
            margin: 0;
        }
        .file-folder-card .download-link {
            font-size: 0.75rem;
            color: var(--color-primary-blue);
            text-decoration: none;
            margin-top: 0.5rem;
        }
        .file-folder-card .download-link:hover {
            text-decoration: underline;
        }

        /* Initial Large Upload Box */
        .initial-upload-box {
            border: 2px dashed var(--color-border);
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
            margin-bottom: 2rem;
            position: relative; /* For file input overlay */
            background-color: var(--color-background-light); /* Use light background */
        }
        .initial-upload-box:hover {
            border-color: var(--color-primary-blue);
            background-color: rgba(106, 103, 208, 0.05);
        }
        .initial-upload-box input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        .initial-upload-box .lucide {
            width: 3rem;
            height: 3rem;
            color: var(--color-text-muted);
            margin-bottom: 0.5rem;
        }
        .initial-upload-box p {
            color: var(--color-text-muted);
            font-size: 1rem;
        }

        /* Compact Upload Button */
        .compact-upload-btn-container {
            display: none; /* Hidden by default */
            margin-bottom: 2rem;
            text-align: right; /* Align button to the right */
        }
        .compact-upload-btn-container button {
            background-color: var(--color-accent); /* Use accent green */
            color: var(--color-white);
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.2s;
            cursor: pointer;
            border: none;
            display: inline-flex; /* For icon and text */
            align-items: center;
            gap: 0.5rem;
        }
        .compact-upload-btn-container button:hover {
            background-color: #059669; /* Darker green */
        }
        .compact-upload-btn-container .lucide {
            width: 1.25rem;
            height: 1.25rem;
        }
        /* Hide the default file input button */
        #documentsFileInputHidden, #imagesFileInputHidden {
            display: none;
        }

        /* --- Account Settings Section (image_d805ad.png inspired) --- */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        .settings-field {
            margin-bottom: 1rem;
        }
        .settings-field label {
            display: block;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text-muted);
            margin-bottom: 0.5rem;
        }
        .settings-field input[type="text"],
        .settings-field input[type="email"],
        .settings-field input[type="tel"],
        .settings-field select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--color-border);
            border-radius: 0.5rem;
            background-color: var(--color-background-light);
            outline: none;
            font-size: 0.95rem;
            color: var(--color-text-dark);
        }
        .settings-field .radio-group {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            margin-top: 0.5rem;
        }
        .settings-field .radio-group input {
            margin-right: 0.5rem;
        }
        .settings-actions {
            margin-top: 2rem;
            display: flex;
            gap: 1rem;
        }
        .settings-actions button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s, color 0.2s;
        }
        .settings-actions .btn-update {
            background-color: var(--color-primary-blue);
            color: var(--color-card-background);
        }
        .settings-actions .btn-update:hover {
            background-color: var(--color-secondary-blue);
        }
        .settings-actions .btn-cancel {
            background-color: var(--color-border);
            color: var(--color-text-dark);
        }
        .settings-actions .btn-cancel:hover {
            background-color: var(--color-text-muted);
            color: var(--color-card-background);
        }

        /* --- Announcements Section (Screenshot 2025-06-29 151614.png inspired) --- */
        .announcement-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .announcement-item {
            display: flex;
            gap: 1.5rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--color-border);
        }
        .announcement-item:last-child {
            border-bottom: none;
        }
        .announcement-item .date {
            min-width: 80px; /* Fixed width for date */
            font-size: 0.9rem;
            color: var(--color-text-muted);
            font-weight: 500;
            text-align: right;
        }
        .announcement-item .content h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--color-text-dark);
        }
        .announcement-item .content p {
            font-size: 0.9rem;
            color: var(--color-text-muted);
            line-height: 1.4;
        }

        /* --- Events Section (image_6f4d45.png inspired) --- */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        .event-card {
            background-color: var(--color-card-background);
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px var(--color-shadow);
            overflow: hidden;
        }
        .event-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid var(--color-border);
        }
        .event-card-content {
            padding: 1rem 1.25rem;
        }
        .event-card-content h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--color-text-dark);
        }
        .event-card-content p {
            font-size: 0.9rem;
            color: var(--color-text-muted);
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        .event-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--color-text-muted);
        }
        .event-card-meta span {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        .event-card-meta .lucide {
            width: 1rem;
            height: 1rem;
        }

    </style>
</head>
<body>
    <!-- Password Interface Wrapper (Full Screen Overlay) -->
    <div id="passwordInterfaceWrapper" class="password-interface-wrapper">
        <div class="background-blur"></div>
        <div class="password-form-container">
            <div class="logo">
                <img src="https://placehold.co/150x50/000000/FFFFFF?text=Your+Logo" alt="Your Company Logo"> <!-- REPLACE WITH YOUR LOGO URL -->
            </div>
            <h2>Secure Access</h2>
            <p>Enter your password to unlock the dashboard.</p>
            <input type="password" id="folderPassword" placeholder="Password">
            <button id="unlockButton">Unlock Dashboard</button>
            <p id="passwordMessage" class="password-message hidden">Incorrect password. Please try again.</p>
            <p class="text-sm" style="color: rgba(255,255,255,0.7);">
                <strong style="color: var(--color-pw-error-text);">Disclaimer:</strong> This is a client-side simulation.
            </p>
        </div>
    </div>

    <!-- Main Dashboard Layout (Hidden initially, revealed after password unlock) -->
    <div id="dashboardLayout" class="dashboard-layout">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-logo">
                <img src="https://placehold.co/120x40/000000/FFFFFF?text=Your+Logo" alt="Your Company Logo"> <!-- REPLACE WITH YOUR LOGO URL -->
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" data-section="dashboardOverview" class="active"><i data-lucide="layout-dashboard"></i> Dashboard</a></li>
                    <li><a href="#" data-section="documentsFolder"><i data-lucide="folder"></i> Documents</a></li>
                    <li><a href="#" data-section="imagesFolder"><i data-lucide="image"></i> Images</a></li>
                    <li><a href="#" data-section="accountSettings"><i data-lucide="settings"></i> Account Settings</a></li>
                    <li><a href="#" data-section="announcements"><i data-lucide="megaphone"></i> Announcements</a></li>
                    <li><a href="#" data-section="events"><i data-lucide="calendar"></i> Upcoming Events</a></li>
                </ul>
            </nav>
            <!-- Could add logout, version info here -->
        </aside>

        <!-- Main Content Area -->
        <div id="mainContent" class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="search-bar">
                    <i data-lucide="search"></i>
                    <input type="text" placeholder="Search...">
                </div>
                <div class="header-actions">
                    <button class="btn-upload" id="globalUploadButton"><i data-lucide="upload-cloud"></i> Upload</button>
                    <div class="user-profile">
                        <img src="https://placehold.co/40x40/random/white?text=A" alt="User Avatar">
                        <span>Mitchel</span>
                    </div>
                </div>
            </header>

            <!-- Dynamic Content Area -->
            <div id="dynamicContent" class="dynamic-content">

                <!-- 1. Dashboard Overview Section (image_d8060b.png inspired) -->
                <div id="dashboardOverviewSection" class="content-section active">
                    <h3 class="text-2xl font-semibold mb-4">Dashboard Overview</h3>
                    <div class="overview-grid">
                        <div class="overview-main">
                            <div class="overview-card storage-card">
                                <div class="storage-chart">
                                    <span>65% <small>Space used</small></span>
                                </div>
                                <div class="storage-info">
                                    <h3>Available Storage</h3>
                                    <p>82GB / 128GB</p>
                                </div>
                            </div>
                            <div class="file-category-cards">
                                <div class="file-category-card docs">
                                    <div class="icon-circle"><i data-lucide="file-text"></i></div>
                                    <h4>12 GB</h4>
                                    <p>Documents</p>
                                    <p class="text-xs">Last update: 10:15am, 10 Oct</p>
                                </div>
                                <div class="file-category-card images">
                                    <div class="icon-circle"><i data-lucide="image"></i></div>
                                    <h4>20 GB</h4>
                                    <p>Images</p>
                                    <p class="text-xs">Last update: 10:15am, 10 Oct</p>
                                </div>
                                <div class="file-category-card video-audio">
                                    <div class="icon-circle"><i data-lucide="film"></i></div>
                                    <h4>20 GB</h4>
                                    <p>Video, Audio</p>
                                    <p class="text-xs">Last update: 10:15am, 10 Oct</p>
                                </div>
                                <div class="file-category-card others">
                                    <div class="icon-circle"><i data-lucide="folder-open"></i></div>
                                    <h4>38 GB</h4>
                                    <p>Others</p>
                                    <p class="text-xs">Last update: 10:15am, 10 Oct</p>
                                </div>
                            </div>
                        </div>
                        <div class="overview-sidebar">
                            <div class="overview-card contact-list">
                                <h4 class="text-lg font-semibold mb-3">Contact</h4>
                                <ul>
                                    <li><img src="https://placehold.co/40x40/random/white?text=A" alt="Contact"><p><strong>Alice Emma</strong><span>aliceemma@gmail.com</span></p></li>
                                    <li><img src="https://placehold.co/40x40/random/white?text=B" alt="Contact"><p><strong>Anne Jennifer</strong><span>annejennifer@gmail.com</span></p></li>
                                    <li><img src="https://placehold.co/40x40/random/white?text=C" alt="Contact"><p><strong>Bush Matthew</strong><span>bushmatthew@gmail.com</span></p></li>
                                    <li><img src="https://placehold.co/40x40/random/white?text=D" alt="Contact"><p><strong>Henry Rebecca</strong><span>henryrebecca@gmail.com</span></p></li>
                                </ul>
                            </div>
                            <div class="overview-card invite-card">
                                <h4 class="text-lg font-semibold mb-3">Invite A Friend</h4>
                                <input type="text" value="HXPO58@AJDSTH12" readonly>
                                <button>Copy</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. Documents Folder Section (image_d80a69.png inspired) -->
                <div id="documentsFolderSection" class="content-section">
                    <h3 class="text-2xl font-semibold mb-4">Documents</h3>
                    <div class="folder-manager-header">
                        <div class="breadcrumbs" id="documentsBreadcrumbs">
                            <!-- Breadcrumbs will be dynamically loaded here -->
                        </div>
                        <div class="folder-action-buttons">
                            <button id="documentsBackButton" class="hidden">
                                <i data-lucide="arrow-left"></i> Back
                            </button>
                            <button id="documentsCreateFolderButton">
                                <i data-lucide="folder-plus"></i> New Folder
                            </button>
                            <input type="file" id="documentsFileInputHidden" multiple accept="image/*, .pdf, .doc, .docx, .xls, .xlsx, .txt">
                            <button id="documentsCompactUploadButton" class="hidden">
                                <i data-lucide="upload-cloud"></i> Upload File
                            </button>
                        </div>
                    </div>

                    <!-- Initial Large Upload Box (shown only if no files/folders exist in current directory) -->
                    <div class="initial-upload-box" id="documentsInitialUploadBox">
                        <input type="file" id="documentsFileInputInitial" multiple accept="image/*, .pdf, .doc, .docx, .xls, .xlsx, .txt">
                        <i data-lucide="upload-cloud"></i>
                        <p>Drag & drop files here, or click to browse</p>
                        <p class="text-xs text-muted-text mt-2">
                            <strong style="color: red;">Disclaimer:</strong> Files are processed in your browser only and are NOT persistently stored or securely uploaded without a backend.
                        </p>
                    </div>

                    <div id="documentsFileGrid" class="folder-grid">
                        <p class="text-muted-text col-span-full" id="documentsNoFilesMessage">This folder is empty.</p>
                    </div>
                </div>

                <!-- 3. Images Folder Section (re-uses folder logic, could add filtering) -->
                <div id="imagesFolderSection" class="content-section">
                    <h3 class="text-2xl font-semibold mb-4">Images</h3>
                    <div class="folder-manager-header">
                        <div class="breadcrumbs" id="imagesBreadcrumbs">
                            <!-- Breadcrumbs will be dynamically loaded here -->
                        </div>
                        <div class="folder-action-buttons">
                            <button id="imagesBackButton" class="hidden">
                                <i data-lucide="arrow-left"></i> Back
                            </button>
                            <button id="imagesCreateFolderButton">
                                <i data-lucide="folder-plus"></i> New Folder
                            </button>
                            <input type="file" id="imagesFileInputHidden" multiple accept="image/*"> <!-- Only images -->
                            <button id="imagesCompactUploadButton" class="hidden">
                                <i data-lucide="upload-cloud"></i> Upload Image
                            </button>
                        </div>
                    </div>

                    <div class="initial-upload-box" id="imagesInitialUploadBox">
                        <input type="file" id="imagesFileInputInitial" multiple accept="image/*">
                        <i data-lucide="upload-cloud"></i>
                        <p>Drag & drop images here, or click to browse</p>
                        <p class="text-xs text-muted-text mt-2">
                            <strong style="color: red;">Disclaimer:</strong> Files are processed in your browser only and are NOT persistently stored or securely uploaded without a backend.
                        </p>
                    </div>

                    <div id="imagesFileGrid" class="folder-grid">
                        <p class="text-muted-text col-span-full" id="imagesNoFilesMessage">This folder is empty.</p>
                    </div>
                </div>


                <!-- 4. Account Settings Section (image_d805ad.png inspired) -->
                <div id="accountSettingsSection" class="content-section">
                    <h3 class="text-2xl font-semibold mb-4">Account Settings</h3>
                    <div class="settings-grid">
                        <div class="settings-field">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" value="Mitchel Lensink">
                        </div>
                        <div class="settings-field">
                            <label for="email">Email</label>
                            <input type="email" id="email" value="mitchellensink@gmail.com">
                        </div>
                        <div class="settings-field">
                            <label for="phoneNumber">Phone number</label>
                            <input type="tel" id="phoneNumber" value="0901805000">
                        </div>
                        <div class="settings-field">
                            <label>Sex</label>
                            <div class="radio-group">
                                <input type="radio" id="male" name="sex" value="male" checked>
                                <label for="male">Male</label>
                                <input type="radio" id="female" name="sex" value="female">
                                <label for="female">Female</label>
                            </div>
                        </div>
                        <div class="settings-field">
                            <label for="location">Location</label>
                            <select id="location">
                                <option>Vietnam</option>
                                <option>India</option>
                                <option>USA</option>
                            </select>
                        </div>
                        <div class="settings-field">
                            <label for="city">City</label>
                            <input type="text" id="city" value="Ho Chi Minh City">
                        </div>
                    </div>
                    <div class="settings-actions">
                        <button class="btn-update">Update</button>
                        <button class="btn-cancel">Cancel</button>
                    </div>
                </div>

                <!-- 5. Announcements Section (Screenshot 2025-06-29 151614.png inspired) -->
                <div id="announcementsSection" class="content-section">
                    <h3 class="text-2xl font-semibold mb-4">Announcements</h3>
                    <ul class="announcement-list">
                        <li class="announcement-item">
                            <span class="date">Today<br>03:00</span>
                            <div class="content">
                                <h4>Welcome to the Era of Zero!</h4>
                                <p>Dear Phemex Traders, The day has finally come! Today, we have officially launched our Membership Spot Trading services. Phemex is...</p>
                            </div>
                        </li>
                        <li class="announcement-item">
                            <span class="date">Jun 03<br>2020</span>
                            <div class="content">
                                <h4>The Era of Zero is Coming!</h4>
                                <p>Dear Phemex Traders, The day has finally come! Today, we have officially launched our Membership Spot Trading services. Phemex is...</p>
                            </div>
                        </li>
                        <li class="announcement-item">
                            <span class="date">Jun 02<br>2020</span>
                            <div class="content">
                                <h4>Trading Ethereum Derivatives</h4>
                                <p>Dear Phemex Traders, The day has finally come! Today, we have officially launched our Membership Spot Trading services. Phemex is...</p>
                            </div>
                        </li>
                        <li class="announcement-item">
                            <span class="date">Jun 01<br>2020</span>
                            <div class="content">
                                <h4>How do I Add Margin to a Position?</h4>
                                <p>Dear Phemex Traders, The day has finally come! Today, we have officially launched our Membership Spot Trading services. Phemex is...</p>
                            </div>
                        </li>
                        <li class="announcement-item">
                            <span class="date">May 29<br>2020</span>
                            <div class="content">
                                <h4>What are Conditional Orders?</h4>
                                <p>Dear Phemex Traders, The day has finally come! Today, we have officially launched our Membership Spot Trading services. Phemex is...</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- 6. Upcoming Events Section (image_6f4d45.png inspired) -->
                <div id="eventsSection" class="content-section">
                    <h3 class="text-2xl font-semibold mb-4">Upcoming Events</h3>
                    <div class="events-grid">
                        <div class="event-card">
                            <img src="https://via.placeholder.com/300x180?text=Event+1" alt="Event Image">
                            <div class="event-card-content">
                                <h4>Mixone 2IT Meeting</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.</p>
                                <div class="event-card-meta">
                                    <span><i data-lucide="calendar"></i> November 10, 2020</span>
                                    <span><i data-lucide="map-pin"></i> Milan</span>
                                </div>
                            </div>
                        </div>
                        <div class="event-card">
                            <img src="https://via.placeholder.com/300x180?text=Event+2" alt="Event Image">
                            <div class="event-card-content">
                                <h4>Gaming X2021 Fair</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.</p>
                                <div class="event-card-meta">
                                    <span><i data-lucide="calendar"></i> March 1, 2021</span>
                                    <span><i data-lucide="map-pin"></i> Istanbul</span>
                                </div>
                            </div>
                        </div>
                        <div class="event-card">
                            <img src="https://via.placeholder.com/300x180?text=Event+3" alt="Event Image">
                            <div class="event-card-content">
                                <h4>Evenwharp Conference</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.</p>
                                <div class="event-card-meta">
                                    <span><i data-lucide="calendar"></i> March 2, 2021</span>
                                    <span><i data-lucide="map-pin"></i> Jordan</span>
                                </div>
                            </div>
                        </div>
                         <div class="event-card">
                            <img src="https://via.placeholder.com/300x180?text=Event+4" alt="Event Image">
                            <div class="event-card-content">
                                <h4>Future of Currencies Talk</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.</p>
                                <div class="event-card-meta">
                                    <span><i data-lucide="calendar"></i> April 15, 2021</span>
                                    <span><i data-lucide="map-pin"></i> Online</span>
                                </div>
                            </div>
                        </div>
                        <div class="event-card">
                            <img src="https://via.placeholder.com/300x180?text=Event+5" alt="Event Image">
                            <div class="event-card-content">
                                <h4>Wedding of James & Helen</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.</p>
                                <div class="event-card-meta">
                                    <span><i data-lucide="calendar"></i> June 1, 2021</span>
                                    <span><i data-lucide="map-pin"></i> New York</span>
                                </div>
                            </div>
                        </div>
                        <div class="event-card">
                            <img src="https://via.placeholder.com/300x180?text=Event+6" alt="Event Image">
                            <div class="event-card-content">
                                <h4>Fashion Carnival 2021</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.</p>
                                <div class="event-card-meta">
                                    <span><i data-lucide="calendar"></i> July 20, 2021</span>
                                    <span><i data-lucide="map-pin"></i> Paris</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div> <!-- /#dynamicContent -->
        </div> <!-- /#mainContent -->
    </div> <!-- /#dashboardLayout -->

    <!-- Global Scripts -->
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // --- Password Protection Logic ---
        const correctPassword = "your_secret_password"; // IMPORTANT: Replace with a strong password for demo, but NEVER use hardcoded passwords in production!
        const passwordInput = document.getElementById('folderPassword');
        const unlockButton = document.getElementById('unlockButton');
        const passwordMessage = document.getElementById('passwordMessage');
        const passwordInterfaceWrapper = document.getElementById('passwordInterfaceWrapper');
        const dashboardLayout = document.getElementById('dashboardLayout'); // The main dashboard layout

        unlockButton.addEventListener('click', () => {
            if (passwordInput.value === correctPassword) {
                passwordInterfaceWrapper.classList.add('hidden-fade'); // Start fade out
                dashboardLayout.style.display = 'flex'; // Immediately show the dashboard layout (flex)

                // After transition, completely remove the password wrapper from flow
                passwordInterfaceWrapper.addEventListener('transitionend', () => {
                    passwordInterfaceWrapper.classList.add('hidden-display'); // Apply display: none
                }, { once: true }); // Ensure this listener runs only once

                passwordMessage.classList.add('hidden');
            } else {
                passwordMessage.textContent = "Incorrect password. Please try again.";
                passwordMessage.classList.remove('hidden');
            }
            passwordInput.value = ''; // Clear password input
        });

        // Allow pressing Enter to unlock
        passwordInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                unlockButton.click();
            }
        });

        // --- Sidebar Navigation Logic ---
        const sidebarLinks = document.querySelectorAll('.sidebar-nav a');
        const contentSections = document.querySelectorAll('.content-section');

        // Function to show a specific section
        function showSection(sectionId) {
            // Hide all content sections
            contentSections.forEach(s => s.classList.remove('active'));
            contentSections.forEach(s => s.style.display = 'none'); // Explicitly hide

            // Show the target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                targetSection.style.display = 'block'; // Explicitly show

                // Special handling for folder sections to render their content
                if (sectionId === 'documentsFolderSection') {
                     renderCurrentFolder(currentFolderDocuments, sectionId);
                } else if (sectionId === 'imagesFolderSection') {
                     renderCurrentFolder(currentFolderImages, sectionId, true); // True for image-only rendering
                }
            }
        }

        sidebarLinks.forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault();

                // Remove active from all sidebar links
                sidebarLinks.forEach(l => l.classList.remove('active'));
                // Add active to clicked link
                link.classList.add('active');

                const targetSectionId = link.dataset.section + 'Section';
                showSection(targetSectionId);
            });
        });

        // --- File System Simulation Logic (Client-side) ---
        // Two separate file systems for Documents and Images
        let fileSystemDocuments = { id: 'root-docs', name: 'Root', type: 'folder', children: [] };
        let currentFolderDocuments = fileSystemDocuments;
        let pathHistoryDocuments = [fileSystemDocuments];

        let fileSystemImages = { id: 'root-images', name: 'Root', type: 'folder', children: [] };
        let currentFolderImages = fileSystemImages;
        let pathHistoryImages = [fileSystemImages];

        function generateUniqueId() {
            return 'id-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        }

        // --- Generic File/Folder Rendering Function ---
        function renderCurrentFolder(folderToRender, sectionId, imagesOnly = false) {
            const fileGrid = document.querySelector(`#${sectionId} .folder-grid`);
            const noFilesMessage = document.querySelector(`#${sectionId} p[id$="NoFilesMessage"]`); // Selects by ID ending with NoFilesMessage
            const breadcrumbsContainer = document.querySelector(`#${sectionId} .breadcrumbs`);
            const backButton = document.querySelector(`#${sectionId} button[id$="BackButton"]`);
            const createFolderButton = document.querySelector(`#${sectionId} button[id$="CreateFolderButton"]`);
            const initialUploadBox = document.querySelector(`#${sectionId} .initial-upload-box`);
            const compactUploadButton = document.querySelector(`#${sectionId} button[id$="CompactUploadButton"]`);
            // fileInputInitial and fileInputHidden are for event listeners, not direct DOM manipulation here

            if (!fileGrid || !noFilesMessage || !breadcrumbsContainer || !backButton || !createFolderButton || !initialUploadBox || !compactUploadButton) {
                console.error(`Missing elements for section: ${sectionId}. Cannot render folder.`);
                return;
            }

            fileGrid.innerHTML = ''; // Clear current display
            noFilesMessage.classList.add('hidden');

            const filteredChildren = folderToRender.children.filter(item => {
                if (imagesOnly && item.type === 'file') {
                    return item.mimeType.startsWith('image/');
                }
                return true; // Include folders and non-image files if not imagesOnly
            });

            if (filteredChildren.length === 0) {
                noFilesMessage.classList.remove('hidden');
            }

            // Sort children: folders first, then files, both alphabetically
            const sortedChildren = [...filteredChildren].sort((a, b) => {
                if (a.type === 'folder' && b.type !== 'folder') return -1;
                if (a.type !== 'folder' && b.type === 'folder') return 1;
                return a.name.localeCompare(b.name);
            });

            sortedChildren.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('file-folder-card');
                itemElement.dataset.itemId = item.id;

                if (item.type === 'folder') {
                    itemElement.classList.add('folder');
                    itemElement.innerHTML = `
                        <div class="icon-placeholder"><i data-lucide="folder"></i></div>
                        <h4>${item.name}</h4>
                        <p class="text-xs">${item.children.length} items</p>
                    `;
                    itemElement.addEventListener('click', () => navigateToFolder(item.id, sectionId, imagesOnly));
                } else { // type === 'file'
                    let iconHtml = '';
                    if (item.mimeType.startsWith('image/')) {
                        iconHtml = `<img src="${item.url}" alt="${item.name}">`;
                    } else {
                        let iconName = 'file';
                        if (item.mimeType.includes('pdf')) iconName = 'file-text';
                        else if (item.mimeType.includes('word')) iconName = 'file-text';
                        else if (item.mimeType.includes('excel') || item.mimeType.includes('spreadsheet')) iconName = 'file-spreadsheet';
                        else if (item.mimeType.includes('text')) iconName = 'file-text';
                        iconHtml = `<i data-lucide="${iconName}"></i>`;
                    }
                    itemElement.innerHTML = `
                        <div class="icon-placeholder">${iconHtml}</div>
                        <h4>${item.name}</h4>
                        <p>${(item.size / 1024 / 1024).toFixed(2)} MB</p>
                        <a href="${item.url}" download="${item.name}" class="download-link" onclick="event.stopPropagation()">Download</a>
                    `;
                }
                fileGrid.appendChild(itemElement);
            });

            lucide.createIcons();
            updateFolderUI(folderToRender, initialUploadBox, compactUploadButton, filteredChildren.length);
            updateBreadcrumbs(sectionId, breadcrumbsContainer);
            updateBackButtonVisibility(sectionId, backButton);
        }

        // --- File Upload Logic ---
        function handleFiles(files, sectionId, imagesOnly = false) {
            if (files.length === 0) return;

            const targetFolder = (sectionId === 'documentsFolderSection') ? currentFolderDocuments : currentFolderImages;

            for (const file of files) {
                if (imagesOnly && !file.type.startsWith('image/')) {
                    console.warn(`Skipping non-image file in Images section: ${file.name}`);
                    continue;
                }

                const reader = new FileReader();
                reader.onload = (e) => {
                    const newFile = {
                        id: generateUniqueId(),
                        name: file.name,
                        type: 'file',
                        url: e.target.result,
                        mimeType: file.type,
                        size: file.size
                    };
                    targetFolder.children.push(newFile);
                    renderCurrentFolder(targetFolder, sectionId, imagesOnly);
                };
                reader.readAsDataURL(file);
            }
        }

        // --- Folder Management Actions ---
        function createFolder(sectionId, imagesOnly = false) {
            const folderName = prompt("Enter new folder name:");
            if (folderName && folderName.trim() !== '') {
                const targetFolder = (sectionId === 'documentsFolderSection') ? currentFolderDocuments : currentFolderImages;
                const newFolder = {
                    id: generateUniqueId(),
                    name: folderName.trim(),
                    type: 'folder',
                    children: []
                };
                targetFolder.children.push(newFolder);
                renderCurrentFolder(targetFolder, sectionId, imagesOnly);
            }
        }

        function navigateToFolder(folderId, sectionId, imagesOnly = false) {
            let targetCurrentFolder, targetPathHistory;
            if (sectionId === 'documentsFolderSection') {
                targetCurrentFolder = currentFolderDocuments;
                targetPathHistory = pathHistoryDocuments;
            } else {
                targetCurrentFolder = currentFolderImages;
                targetPathHistory = pathHistoryImages;
            }

            const nextFolder = targetCurrentFolder.children.find(item => item.id === folderId && item.type === 'folder');
            if (nextFolder) {
                if (sectionId === 'documentsFolderSection') {
                    currentFolderDocuments = nextFolder;
                    pathHistoryDocuments.push(currentFolderDocuments);
                } else {
                    currentFolderImages = nextFolder;
                    pathHistoryImages.push(currentFolderImages);
                }
                renderCurrentFolder(nextFolder, sectionId, imagesOnly);
            }
        }

        function goBack(sectionId, imagesOnly = false) {
            let targetPathHistory;
            let targetCurrentFolder;

            if (sectionId === 'documentsFolderSection') {
                targetPathHistory = pathHistoryDocuments;
                targetCurrentFolder = currentFolderDocuments;
            } else {
                targetPathHistory = pathHistoryImages;
                targetCurrentFolder = currentFolderImages;
            }

            if (targetPathHistory.length > 1) {
                targetPathHistory.pop();
                const newCurrentFolder = targetPathHistory[targetPathHistory.length - 1];
                if (sectionId === 'documentsFolderSection') {
                    currentFolderDocuments = newCurrentFolder;
                } else {
                    currentFolderImages = newCurrentFolder;
                }
                renderCurrentFolder(newCurrentFolder, sectionId, imagesOnly);
            }
        }

        // --- UI Update Functions ---
        function updateFolderUI(folderToRender, initialUploadBox, compactUploadButton, visibleItemsCount) {
            if (visibleItemsCount > 0) {
                initialUploadBox.style.display = 'none';
                compactUploadButton.parentElement.style.display = 'flex';
            } else {
                initialUploadBox.style.display = 'block';
                compactUploadButton.parentElement.style.display = 'none';
            }
        }

        function updateBreadcrumbs(sectionId, breadcrumbsContainer) {
            breadcrumbsContainer.innerHTML = '';
            const currentPathHistory = (sectionId === 'documentsFolderSection') ? pathHistoryDocuments : pathHistoryImages;

            currentPathHistory.forEach((folder, index) => {
                const span = document.createElement('span');
                if (index === currentPathHistory.length - 1) {
                    span.textContent = folder.name;
                } else {
                    const link = document.createElement('a');
                    link.href = "#";
                    link.textContent = folder.name;
                    link.addEventListener('click', (event) => {
                        event.preventDefault();
                        const newPathHistory = currentPathHistory.slice(0, index + 1);
                        if (sectionId === 'documentsFolderSection') {
                            pathHistoryDocuments = newPathHistory;
                            currentFolderDocuments = newPathHistory[newPathHistory.length - 1];
                        } else {
                            pathHistoryImages = newPathHistory;
                            currentFolderImages = newPathHistory[newPathHistory.length - 1];
                        }
                        renderCurrentFolder(newPathHistory[newPathHistory.length - 1], sectionId, (sectionId === 'imagesFolderSection'));
                    });
                    span.appendChild(link);
                }
                breadcrumbsContainer.appendChild(span);
                if (index < currentPathHistory.length - 1) {
                    const separator = document.createElement('span');
                    separator.classList.add('separator');
                    separator.innerHTML = '&nbsp;/&nbsp;';
                    breadcrumbsContainer.appendChild(separator);
                }
            });
        }

        function updateBackButtonVisibility(sectionId, backButton) {
            const currentPathHistory = (sectionId === 'documentsFolderSection') ? pathHistoryDocuments : pathHistoryImages;
            if (currentPathHistory.length > 1) {
                backButton.classList.remove('hidden');
            } else {
                backButton.classList.add('hidden');
            }
        }

        // --- Hook up Events for Documents Section ---
        document.getElementById('documentsFileInputInitial').addEventListener('change', (event) => handleFiles(event.target.files, 'documentsFolderSection'));
        document.getElementById('documentsFileInputInitial').closest('.initial-upload-box').addEventListener('dragover', (event) => {
            event.preventDefault();
            document.getElementById('documentsInitialUploadBox').style.borderColor = 'var(--color-primary-blue)';
            document.getElementById('documentsInitialUploadBox').style.backgroundColor = 'rgba(106, 103, 208, 0.05)';
        });
        document.getElementById('documentsFileInputInitial').closest('.initial-upload-box').addEventListener('dragleave', () => {
            document.getElementById('documentsInitialUploadBox').style.borderColor = 'var(--color-border)';
            document.getElementById('documentsInitialUploadBox').style.backgroundColor = 'var(--color-background-light)';
        });
        document.getElementById('documentsFileInputInitial').closest('.initial-upload-box').addEventListener('drop', (event) => {
            event.preventDefault();
            document.getElementById('documentsInitialUploadBox').style.borderColor = 'var(--color-border)';
            document.getElementById('documentsInitialUploadBox').style.backgroundColor = 'var(--color-background-light)';
            handleFiles(event.dataTransfer.files, 'documentsFolderSection');
        });

        document.getElementById('documentsFileInputHidden').addEventListener('change', (event) => handleFiles(event.target.files, 'documentsFolderSection'));
        document.getElementById('documentsCreateFolderButton').addEventListener('click', () => createFolder('documentsFolderSection'));
        document.getElementById('documentsBackButton').addEventListener('click', () => goBack('documentsFolderSection'));
        document.getElementById('documentsCompactUploadButton').addEventListener('click', () => {
            document.getElementById('documentsFileInputHidden').click();
        });


        // --- Event Listeners for Images Section ---
        document.getElementById('imagesFileInputInitial').addEventListener('change', (event) => handleFiles(event.target.files, 'imagesFolderSection', true));
        document.getElementById('imagesFileInputInitial').closest('.initial-upload-box').addEventListener('dragover', (event) => {
            event.preventDefault();
            document.getElementById('imagesInitialUploadBox').style.borderColor = 'var(--color-primary-blue)';
            document.getElementById('imagesInitialUploadBox').style.backgroundColor = 'rgba(106, 103, 208, 0.05)';
        });
        document.getElementById('imagesFileInputInitial').closest('.initial-upload-box').addEventListener('dragleave', () => {
            document.getElementById('imagesInitialUploadBox').style.borderColor = 'var(--color-border)';
            document.getElementById('imagesInitialUploadBox').style.backgroundColor = 'var(--color-background-light)';
        });
        document.getElementById('imagesFileInputInitial').closest('.initial-upload-box').addEventListener('drop', (event) => {
            event.preventDefault();
            document.getElementById('imagesInitialUploadBox').style.borderColor = 'var(--color-border)';
            document.getElementById('imagesInitialUploadBox').style.backgroundColor = 'var(--color-background-light)';
            handleFiles(event.dataTransfer.files, 'imagesFolderSection', true);
        });

        document.getElementById('imagesFileInputHidden').addEventListener('change', (event) => handleFiles(event.target.files, 'imagesFolderSection', true));
        document.getElementById('imagesCreateFolderButton').addEventListener('click', () => createFolder('imagesFolderSection', true));
        document.getElementById('imagesBackButton').addEventListener('click', () => goBack('imagesFolderSection', true));
        document.getElementById('imagesCompactUploadButton').addEventListener('click', () => {
            document.getElementById('imagesFileInputHidden').click();
        });

        // --- Global Upload Button (in header) ---
        document.getElementById('globalUploadButton').addEventListener('click', () => {
            // Determine which section is currently active to decide where to upload
            const activeSection = document.querySelector('.content-section.active');
            if (activeSection) {
                const sectionId = activeSection.id;
                if (sectionId === 'documentsFolderSection') {
                    document.getElementById('documentsFileInputHidden').click();
                } else if (sectionId === 'imagesFolderSection') {
                    document.getElementById('imagesFileInputHidden').click();
                } else {
                    // Fallback or message if upload is not supported in current section
                    alert('Please navigate to Documents or Images section to upload files.');
                }
            }
        });

        // --- Initial setup on page load ---
        // Ensure dashboard is hidden until unlocked
        dashboardLayout.style.display = 'none';

    </script>
</body>
</html>

